import{g as $,c as W,s as _,r as o,d as U,_ as T,e as S,j as t,f as M,h as A,a as H,L as v,S as r,G as D}from"./index-CMWdoIlh.js";import{L as F}from"./LanguageModal-BpgHgWNJ.js";import{S as z}from"./Social-IX5m4ER2.js";import{d as y,a as h}from"./api-CRlyHzIT.js";import{u as j,T as n,B as g}from"./createSvgIcon-CZ8Sw-s_.js";import{C as B,a as I}from"./CardActionArea-rdD26zXJ.js";import{I as k}from"./IconButton-Dgiex-CS.js";import"./mergeSlotProps-6hAA_vsJ.js";function P(s){return $("MuiCardContent",s)}W("MuiCardContent",["root"]);const N=["className","component"],G=s=>{const{classes:e}=s;return A({root:["root"]},P,e)},K=_("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(s,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Q=o.forwardRef(function(e,l){const i=U({props:e,name:"MuiCardContent"}),{className:c,component:x="div"}=i,d=T(i,N),p=S({},i,{component:x}),u=G(p);return t.jsx(K,S({as:x,className:M(u.root,c),ownerState:p,ref:l},d))}),L=Q,X=()=>{const{i18n:s}=H(),[e,l]=o.useState("");o.useEffect(()=>{(async()=>{try{const a=(await h.get(`/api/banners?populate=*&locale=${s.language}`)).data.data.find(b=>b.attributes.type==="home_banner");a&&a.attributes.image.data.attributes.url&&l(`http://95.85.121.153:1337${a.attributes.image.data.attributes.url}`)}catch(f){console.error("Error fetching background image:",f)}})()},[s.language]);const{refetch:i,data:c,isLoading:x,isError:d}=j("homeData",async()=>(await h.get("/api/title-texts")).data),{data:p,isLoading:u,isError:w}=j("imageData",async()=>(await h.get(`/api/banners?populate=image&locale=${s.language}`)).data);return o.useEffect(()=>{i()},[s.language]),t.jsxs(t.Fragment,{children:[(x||u)&&t.jsx(v,{}),(d||w)&&t.jsx("div",{children:"Error fetching data"}),c&&p&&t.jsxs(t.Fragment,{children:[t.jsx(n,{sx:{color:"#222222",fontSize:"24px",lineHeight:"30px",textAlign:"center",fontWeight:700},children:c.data[0].attributes.title}),t.jsx(n,{sx:{color:"#6B6B6B",fontSize:"16px",lineHeight:"20px",textAlign:"center",fontWeight:600,mt:3},children:c.data[0].attributes.short_description}),t.jsx(r,{direction:"row",justifyContent:"center",mt:2,children:t.jsx(z,{})}),t.jsx(g,{sx:{width:"100%",height:"470px",background:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",p:1,display:"flex",alignItems:"flex-end",mt:3},children:t.jsx(B,{sx:{width:"100%",height:"auto",p:1,borderRadius:"8px",background:"#D9D9D9"},children:t.jsx(I,{children:t.jsx(L,{children:t.jsxs(r,{direction:"row",justifyContent:"space-between",sx:{position:"relative"},children:[t.jsxs(n,{sx:{color:"#222222",fontSize:"20px",fontWeight:700,lineHeight:"30px"},children:["Iskander ",t.jsx("br",{})," Kerimov"]}),t.jsxs(n,{sx:{color:"#676767",fontSize:"15px",fontWeight:500,lineHeight:"18px",position:"absolute",pl:"40%",pt:"2%"},children:["Business Couch ",t.jsx("br",{})," with 7 years of experience"]}),t.jsx(k,{children:t.jsx(y,{sx:{color:"#828282",transform:"rotate(320deg)",fontSize:"34px",width:"30px",position:"absolute",top:0}})})]})})})})})]})]})},at=()=>{const{i18n:s}=H(),[e,l]=o.useState(window.innerHeight),[i,c]=o.useState("");o.useEffect(()=>{(async()=>{try{const C=(await h.get(`/api/banners?populate=*&locale=${s.language}`)).data.data.find(R=>R.attributes.type==="home_banner");C&&C.attributes.image.data.attributes.url&&c(`http://95.85.121.153:1337${C.attributes.image.data.attributes.url}`)}catch(b){console.error("Error fetching background image:",b)}})()},[s.language]),o.useEffect(()=>{const a=()=>{l(window.innerHeight)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]);const{refetch:x,data:d,isLoading:p,isError:u}=j("homeData",async()=>(await h.get(`/api/title-texts?locale=${s.language}`)).data),{refetch:w,data:m,isLoading:f,isError:E}=j("imageData",async()=>(await h.get(`/api/banners?populate=image&locale=${s.language}`)).data);return o.useEffect(()=>{w(),x()},[s.language]),t.jsxs(t.Fragment,{children:[(p||f)&&t.jsx(v,{}),(u||E)&&t.jsx("div",{children:"Error fetching data"}),d&&m&&t.jsxs(t.Fragment,{children:[t.jsx(r,{width:"100%",height:"85vh",sx:{display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:t.jsxs(g,{children:[t.jsx(g,{sx:{background:"#E9E9E9",borderRadius:"8px"},children:t.jsx(F,{})}),t.jsxs(D,{container:!0,spacing:10,pt:2,alignItems:"center",children:[t.jsx(D,{item:!0,lg:7,md:7,sm:12,xs:12,children:t.jsxs(r,{spacing:2,children:[t.jsx(n,{sx:{color:"#222222",fontSize:e>=900?"48px":"43px",fontWeight:700},children:d.data[0].attributes.title}),t.jsx(n,{sx:{color:"#6B6B6B",fontSize:"16px",fontWeight:600,lineHeight:"20px",width:e>=900?"60%":"100%"},children:d.data[0].attributes.short_description}),t.jsx(z,{})]})}),t.jsx(D,{item:!0,lg:5,pr:"3%",md:5,sm:12,xs:12,children:t.jsx(g,{sx:{width:"100%",height:"85vh",backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",p:1,display:"flex",alignItems:"flex-end"},children:t.jsx(B,{sx:{width:"100%",height:"auto",p:1,borderRadius:"8px",background:"#D9D9D9"},children:t.jsx(I,{children:t.jsx(L,{children:t.jsxs(r,{direction:"row",justifyContent:"space-between",sx:{position:"relative"},children:[t.jsxs(n,{sx:{color:"#222222",fontSize:"20px",fontWeight:700,lineHeight:"30px"},children:["Iskander ",t.jsx("br",{})," Kerimov"]}),t.jsxs(n,{sx:{color:"#676767",fontSize:"15px",fontWeight:500,lineHeight:"18px",position:"absolute",pl:"40%",pt:"2%"},children:["Business Couch ",t.jsx("br",{})," with 7 years of experience"]}),t.jsx(k,{children:t.jsx(y,{sx:{color:"#828282",transform:"rotate(320deg)",fontSize:"34px",width:"30px",position:"absolute",top:0}})})]})})})})})})]})]})}),t.jsx(r,{width:"auto",p:1,sx:{position:"absolute",bottom:0,left:e>=900?-40:-17,background:"#222222",borderTopRightRadius:"8px",display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:t.jsx(r,{direction:"row",spacing:1,children:m.data.slice(1).map(a=>t.jsx(g,{sx:{background:"#D9D9D9",p:1,borderRadius:"8px",width:e>=900?"450px":"330px"},children:t.jsxs(r,{direction:"row",spacing:1,children:[a.attributes.image.data.attributes.formats.thumbnail.url&&t.jsx("img",{style:{width:"120px",height:e>=900?"110px":"60px",borderRadius:"4px"},src:`http://95.85.121.153:1337${a.attributes.image.data.attributes.formats.thumbnail.url}`}),t.jsxs(r,{sx:{position:"relative",width:"100%"},children:[t.jsx(k,{sx:{width:e>=900?"40px":"30px",height:e>=900?"40px":"30px",position:"absolute",top:0,right:0},children:t.jsx(y,{sx:{color:"#828282",transform:"rotate(320deg)",fontSize:e>=900?"40px":"34px",width:e>=900?"30px":"20px"}})}),t.jsx(n,{sx:{color:"#222222",fontSize:e>=900?"18px":"12px",lineHeight:"20px",position:"absolute",bottom:e>=900?5:0},children:a.attributes.title})]})]})},a.id))})})]}),t.jsx(g,{sx:{display:{md:"none",lg:"none",sm:"flex",xs:"flex"},flexDirection:"column",p:3},children:t.jsx(X,{})})]})};export{at as default};
