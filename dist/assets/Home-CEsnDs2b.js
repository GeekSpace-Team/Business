import{g as R,c as W,s as _,r as n,d as $,_ as U,e as E,j as t,f as T,h as M,L as H,S as r,a as A,G as D}from"./index-cy95ObCo.js";import{L as F}from"./LanguageModal-8Fe32KDk.js";import{S as v}from"./Social-DGz2vqkc.js";import{d as y,a as g}from"./api-ImPcT899.js";import{u as b,T as o,B as h}from"./createSvgIcon-C9qp5p7j.js";import{C as z,a as B}from"./CardActionArea-CU2bfK9m.js";import{I as k}from"./IconButton-aSr0pSDS.js";import"./mergeSlotProps-CeJQNsJ3.js";import"./Paper-BA2oY67v.js";function P(s){return R("MuiCardContent",s)}W("MuiCardContent",["root"]);const N=["className","component"],G=s=>{const{classes:e}=s;return M({root:["root"]},P,e)},K=_("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(s,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Q=n.forwardRef(function(e,i){const d=$({props:e,name:"MuiCardContent"}),{className:u,component:l="div"}=d,c=U(d,N),x=E({},d,{component:l}),p=G(x);return t.jsx(K,E({as:l,className:T(p.root,u),ownerState:x,ref:i},c))}),I=Q,X=()=>{const[s,e]=n.useState("");n.useEffect(()=>{(async()=>{try{const m=(await g.get("/api/banners?populate=*")).data.data.find(w=>w.attributes.type==="home_banner");m&&m.attributes.image.data.attributes.url&&e(`http://95.85.121.153:1337${m.attributes.image.data.attributes.url}`)}catch(f){console.error("Error fetching background image:",f)}})()},[]);const{data:i,isLoading:d,isError:u}=b("homeData",async()=>(await g.get("/api/title-texts")).data),{data:l,isLoading:c,isError:x}=b("imageData",async()=>(await g.get("/api/banners?populate=image")).data);return t.jsxs(t.Fragment,{children:[(d||c)&&t.jsx(H,{}),(u||x)&&t.jsx("div",{children:"Error fetching data"}),i&&l&&t.jsxs(t.Fragment,{children:[t.jsx(o,{sx:{color:"#222222",fontSize:"24px",lineHeight:"30px",textAlign:"center",fontWeight:700},children:i.data[0].attributes.title}),t.jsx(o,{sx:{color:"#6B6B6B",fontSize:"16px",lineHeight:"20px",textAlign:"center",fontWeight:600,mt:3},children:i.data[0].attributes.short_description}),t.jsx(r,{direction:"row",justifyContent:"center",mt:2,children:t.jsx(v,{})}),t.jsx(h,{sx:{width:"100%",height:"470px",background:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",p:1,display:"flex",alignItems:"flex-end",mt:3},children:t.jsx(z,{sx:{width:"100%",height:"auto",p:1,borderRadius:"8px",background:"#D9D9D9"},children:t.jsx(B,{children:t.jsx(I,{children:t.jsxs(r,{direction:"row",justifyContent:"space-between",sx:{position:"relative"},children:[t.jsxs(o,{sx:{color:"#222222",fontSize:"20px",fontWeight:700,lineHeight:"30px"},children:["Iskander ",t.jsx("br",{})," Kerimov"]}),t.jsxs(o,{sx:{color:"#676767",fontSize:"15px",fontWeight:500,lineHeight:"18px",position:"absolute",pl:"40%",pt:"2%"},children:["Business Couch ",t.jsx("br",{})," with 7 years of experience"]}),t.jsx(k,{children:t.jsx(y,{sx:{color:"#828282",transform:"rotate(320deg)",fontSize:"34px",width:"30px",position:"absolute",top:0}})})]})})})})})]})]})},rt=()=>{const{i18n:s}=A(),[e,i]=n.useState(window.innerHeight),[d,u]=n.useState("");n.useEffect(()=>{(async()=>{try{const C=(await g.get(`/api/banners?populate=*&locale=${s.language}`)).data.data.find(L=>L.attributes.type==="home_banner");C&&C.attributes.image.data.attributes.url&&u(`http://95.85.121.153:1337${C.attributes.image.data.attributes.url}`)}catch(S){console.error("Error fetching background image:",S)}})()},[s.language]),n.useEffect(()=>{const a=()=>{i(window.innerHeight)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]);const{refetch:l,data:c,isLoading:x,isError:p}=b("homeData",async()=>(await g.get(`/api/title-texts?locale=${s.language}`)).data),{refetch:f,data:j,isLoading:m,isError:w}=b("imageData",async()=>(await g.get(`/api/banners?populate=image&locale=${s.language}`)).data);return n.useEffect(()=>{f(),l()},[s.language]),t.jsxs(t.Fragment,{children:[(x||m)&&t.jsx(H,{}),(p||w)&&t.jsx("div",{children:"Error fetching data"}),c&&j&&t.jsxs(t.Fragment,{children:[t.jsx(r,{width:"100%",height:"85vh",sx:{display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:t.jsxs(h,{children:[t.jsx(h,{sx:{background:"#E9E9E9",borderRadius:"8px"},children:t.jsx(F,{})}),t.jsxs(D,{container:!0,spacing:10,pt:2,alignItems:"center",children:[t.jsx(D,{item:!0,lg:7,md:7,sm:12,xs:12,children:t.jsxs(r,{spacing:2,children:[t.jsx(o,{sx:{color:"#222222",fontSize:e>=900?"48px":"43px",fontWeight:700},children:c.data[0].attributes.title}),t.jsx(o,{sx:{color:"#6B6B6B",fontSize:"16px",fontWeight:600,lineHeight:"20px",width:e>=900?"60%":"100%"},children:c.data[0].attributes.short_description}),t.jsx(v,{})]})}),t.jsx(D,{item:!0,lg:5,pr:"3%",md:5,sm:12,xs:12,children:t.jsx(h,{sx:{width:"100%",height:"85vh",backgroundImage:`url(${d})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"8px",p:1,display:"flex",alignItems:"flex-end"},children:t.jsx(z,{sx:{width:"100%",height:"auto",p:1,borderRadius:"8px",background:"#D9D9D9"},children:t.jsx(B,{children:t.jsx(I,{children:t.jsxs(r,{direction:"row",justifyContent:"space-between",sx:{position:"relative"},children:[t.jsxs(o,{sx:{color:"#222222",fontSize:"20px",fontWeight:700,lineHeight:"30px"},children:["Iskander ",t.jsx("br",{})," Kerimov"]}),t.jsxs(o,{sx:{color:"#676767",fontSize:"15px",fontWeight:500,lineHeight:"18px",position:"absolute",pl:"40%",pt:"2%"},children:["Business Couch ",t.jsx("br",{})," with 7 years of experience"]}),t.jsx(k,{children:t.jsx(y,{sx:{color:"#828282",transform:"rotate(320deg)",fontSize:"34px",width:"30px",position:"absolute",top:0}})})]})})})})})})]})]})}),t.jsx(r,{width:"auto",p:1,sx:{position:"absolute",bottom:0,left:e>=900?-40:-17,background:"#222222",borderTopRightRadius:"8px",display:{lg:"block",md:"block",sm:"none",xs:"none"}},children:t.jsx(r,{direction:"row",spacing:1,children:j.data.slice(1).map(a=>t.jsx(h,{sx:{background:"#D9D9D9",p:1,borderRadius:"8px",width:e>=900?"450px":"330px"},children:t.jsxs(r,{direction:"row",spacing:1,children:[a.attributes.image.data.attributes.formats.thumbnail.url&&t.jsx("img",{style:{width:"120px",height:e>=900?"110px":"60px",borderRadius:"4px"},src:`http://95.85.121.153:1337${a.attributes.image.data.attributes.formats.thumbnail.url}`}),t.jsxs(r,{sx:{position:"relative",width:"100%"},children:[t.jsx(k,{sx:{width:e>=900?"40px":"30px",height:e>=900?"40px":"30px",position:"absolute",top:0,right:0},children:t.jsx(y,{sx:{color:"#828282",transform:"rotate(320deg)",fontSize:e>=900?"40px":"34px",width:e>=900?"30px":"20px"}})}),t.jsx(o,{sx:{color:"#222222",fontSize:e>=900?"18px":"12px",lineHeight:"20px",position:"absolute",bottom:e>=900?5:0},children:a.attributes.title})]})]})},a.id))})})]}),t.jsx(h,{sx:{display:{md:"none",lg:"none",sm:"flex",xs:"flex"},flexDirection:"column",p:3},children:t.jsx(X,{})})]})};export{rt as default};
